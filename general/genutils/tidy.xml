<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY tidy-download-http "&sources-anduin-http;/t/tidy-&tidy-version;.tar.bz2">
  <!ENTITY tidy-download-ftp  " ">
  <!ENTITY tidy-md5sum        "dd1fe109b4259ad3f364b175787ad5e9">
  <!ENTITY tidy-size          "807 KB">
  <!ENTITY tidy-buildsize     "12 MB">
  <!ENTITY tidy-time          "0.2 SBU">

  <!-- <!ENTITY tidy-docs-version  "051020">
  <!ENTITY tidy-docs-download "http://tidy.sourceforge.net/docs/tidy_docs_&tidy-docs-version;.tgz">
  <!ENTITY tidy-docs-md5sum   "86de2f198e57399c063d2567b2a25628">
  <!ENTITY tidy-docs-size     "150 KB"> -->
]>

<sect1 id="html-tidy" xreflabel="HTML Tidy-&tidy-version;">
  <?dbhtml filename="tidy.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
  </sect1info>

  <title>HTML Tidy-&tidy-version;</title>

  <indexterm zone="html-tidy">
    <primary sortas="a-HTML-Tidy">HTML Tidy</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction to HTML Tidy</title>

    <para>The <application>HTML Tidy</application> package contains a
    command line tool and libraries used to read HTML, XHTML and XML files
    and write cleaned up markup. It detects and corrects many common coding
    errors and strives to produce visually equivalent markup that is both
    W3C compliant and compatible with most browsers.</para>

    <para>&lfssvn_checked;20101029&lfssvn_checked2;</para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Download (HTTP): <ulink url="&tidy-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Download (FTP): <ulink url="&tidy-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &tidy-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &tidy-size;</para>
      </listitem>
      <listitem>
        <para>Estimated disk space required: &tidy-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimated build time: &tidy-time;</para>
      </listitem>
    </itemizedlist>

    <para><application>HTML Tidy</application> tarballs are no longer generated
    by the maintainers. To build from source, the
    <application>HTML Tidy</application> developers recommend using current
    CVS. The source tarball shown above was created by the BLFS team by pulling
    a CVS version, then generating the autotool components and documentation.
    BLFS made no changes to the existing source files.</para>

    <!-- <note>
      <para><application>HTML Tidy</application> is
      updated very frequently by its maintainers, and the source package listed
      above may not be available at the listed URL due to the
      release of a newer version. The most current source package can be always
      be downloaded from <ulink url="http://tidy.sourceforge.net/src/"/>. If
      this version is newer than the version listed above, the following
      instructions should work, but have not yet been tested by the BLFS team.
      If you'd rather download the version listed above, you can find it at
      <ulink url="http://tidy.sourceforge.net/src/old/"/>.</para>
    </note> -->

    <!-- <bridgehead renderas="sect3">Additional Downloads</bridgehead> -->

    <!-- <bridgehead renderas="sect4">Documentation</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
       <para>Documentation: <ulink url="&tidy-docs-download;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &tidy-docs-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &tidy-docs-size;</para>
      </listitem>
    </itemizedlist> -->

    <!-- <bridgehead renderas="sect4">Patches</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Required patch: <ulink
        url="&patch-root;/tidy-&tidy-version;-prevent_PRE_newlines-1.patch"/></para>
      </listitem>
    </itemizedlist> -->

    <bridgehead renderas="sect3">HTML Tidy Dependencies</bridgehead>

    <!-- <bridgehead renderas="sect4">Recommended (To Build the Man Page and Quick
    Reference Docs)</bridgehead>
    <para role="recommended"><xref linkend="libxslt"/></para> -->

    <bridgehead renderas="sect4">Optional</bridgehead>
    <para role="optional"><ulink url="http://dmalloc.com/">Dmalloc</ulink></para>

    <para condition="html" role="usernotes">User Notes:
    <ulink url="&blfs-wiki;/tidy"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of HTML Tidy</title>

    <!-- <para>The <application>HTML Tidy</application> documentation
    is contained in a separate tarball. Unpack both the source and docs
    tarballs before starting the build.</para> -->

    <para>Install <application>HTML Tidy</application> by
    running the following commands:</para>

<screen><userinput>./configure --prefix=/usr &amp;&amp;
make</userinput></screen>

    <para>This package does not come with a test suite.</para>
    <!-- <para>To test the results, issue: <command>make check</command>.</para> -->

    <para>Now, as the <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>make install &amp;&amp;

install -v -m644 -D htmldoc/tidy.1 \
                    /usr/share/man/man1/tidy.1 &amp;&amp;
install -v -m755 -d /usr/share/doc/tidy-&tidy-version; &amp;&amp;
install -v -m644    htmldoc/*.{html,gif,css} \
                    /usr/share/doc/tidy-&tidy-version;</userinput></screen>

    <para>If you wish to install the API documentation you must have
    <xref linkend="doxygen"/> installed, then change directories into the
    <filename class='directory'>htmldoc</filename> of the source tree and
    issue the command <command>doxygen</command>. Then as the
    <systemitem class="username">root</systemitem> user copy
    the <filename class='directory'>api</filename> directory to
    <filename class='directory'>/usr/share/doc/tidy-&tidy-version;.</filename></para>

<!-- <screen role="root"><userinput>make -C htmldoc install_apidocs</userinput></screen> -->

    <!-- <para>If you have <xref linkend="libxslt"/> installed, issue the following
    commands as an unprivileged user to build the man page and HTML
    documentation:</para>

<screen><userinput>cd htmldoc &amp;&amp;
tidy -xml-help &gt; tidy-help.xml &amp;&amp;
tidy -xml-config &gt; tidy-config.xml &amp;&amp;
xsltproc -o tidy.1 tidy1.xsl tidy-help.xml &amp;&amp;
xsltproc -o quickref.html quickref-html.xsl tidy-config.xml &amp;&amp;
cd ..</userinput></screen>

    <para>If you built the man page and the Quick Reference HTML file, install
    the man page by issuing the following command as the
    <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>install -v -m644 htmldoc/tidy.1 /usr/share/man/man1</userinput></screen>

    <para>Now finish the installation by installing the pre-built
    documentation as the <systemitem class="username">root</systemitem>
    user:</para>

<screen role="root"><userinput>install -v -m755 -d /usr/share/doc/tidy-&tidy-docs-version; &amp;&amp;
cp -v -R htmldoc/* /usr/share/doc/tidy-&tidy-docs-version;</userinput></screen> -->

  </sect2>

  <!-- <sect2 role="commands">
    <title>Command Explanations</title>

    <para><command>sh build/gnuauto/setup.sh</command>: This command prepares
    the source tree for building using the GNU <quote>Auto</quote>
    tools.</para>

  </sect2> -->

  <sect2 role="configuration">
    <title>Configuring HTML Tidy</title>

    <sect3>
      <title>Config Files</title>

      <para>The absolute path of the file specified in
      <envar>$HTML_TIDY</envar>.</para>

    </sect3>

    <sect3>
      <title>Configuration Information</title>

      <para>The default configuration options can be set in the file defined in
      <envar>$HTML_TIDY</envar>. Additional configuration options can be passed
      to <command>tidy</command> via command line parameters or the
      <option>-config &lt;file&gt;</option> parameter.</para>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
    <segtitle>Installed Programs</segtitle>
    <segtitle>Installed Library</segtitle>
    <segtitle>Installed Directory</segtitle>
    <seglistitem>
    <seg>tab2space and tidy</seg>
    <seg>libtidy.{so,a}</seg>
    <seg>/usr/share/doc/tidy-&tidy-version;</seg>
    </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="tab2space">
        <term><command>tab2space</command></term>
        <listitem>
          <para>is a utility to expand tabs and ensure consistent line
          endings.</para>
          <indexterm zone="html-tidy tab2space">
            <primary sortas="b-tab2space">tab2space</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="tidy">
        <term><command>tidy</command></term>
        <listitem>
          <para>validates, corrects, and pretty-prints HTML files.</para>
          <indexterm zone="html-tidy tidy">
            <primary sortas="b-tidy">tidy</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libtidy">
        <term><filename class='libraryfile'>libtidy.{so,a}</filename></term>
        <listitem>
          <para>libraries provide the <application>HTML Tidy</application> API
          functions to <command>tidy</command> and can also be called by other
          programs.</para>
          <indexterm zone="html-tidy libtidy">
            <primary sortas="c-libtidy">libtidy.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
