<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
   "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY unzip-download-http "http://www.mirrorservice.org/sites/ftp.info-zip.org/pub/infozip/src/unzip552.tar.gz">
  <!ENTITY unzip-download-ftp "ftp://ftp.info-zip.org/pub/infozip/src/unzip552.tar.gz">
  <!ENTITY unzip-md5sum "9d23919999d6eac9217d1f41472034a9">
  <!ENTITY unzip-size "1.1 MB">
  <!ENTITY unzip-buildsize "7.2 MB">
  <!ENTITY unzip-time "0.09 SBU">
]>

<sect1 id="unzip" xreflabel="UnZip-&unzip-version;">
  <?dbhtml filename="unzip.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
  </sect1info>

  <title>UnZip-&unzip-version;</title>

  <indexterm zone="unzip">
    <primary sortas="a-UnZip">UnZip</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction to UnZip</title>

    <para>The <application>UnZip</application> package contains
    <filename>ZIP</filename> extraction utilities. These are useful for extracting
    files from <filename>ZIP</filename> archives. <filename>ZIP</filename>
    archives are created with <application>PKZIP</application> or
    <application>Info-ZIP</application> utilities primarily in a DOS
    environment. </para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Download (HTTP): <ulink url="&unzip-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Download (FTP): <ulink url="&unzip-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &unzip-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &unzip-size;</para>
      </listitem>
      <listitem>
        <para>Estimated disk space required: &unzip-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimated build time: &unzip-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Required patch: <ulink
        url="&patch-root;/unzip-&unzip-version;-fix_Makefile-1.patch"/></para>
      </listitem>
      <listitem>
        <para>Required patch: <ulink
        url="&patch-root;/unzip-&unzip-version;-fix_libz-1.patch"/></para>
      </listitem>
      <listitem>
        <para>Recommended patch: <ulink
        url="&patch-root;/unzip-&unzip-version;-dont_make_noise-1.patch"/></para>
      </listitem>
    </itemizedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation of UnZip</title>

    <para>Install <application>UnZip</application> by running the following
    commands:</para>

<screen><userinput>patch -Np1 -i ../unzip-&unzip-version;-fix_Makefile-1.patch &amp;&amp;
patch -Np1 -i ../unzip-&unzip-version;-fix_libz-1.patch &amp;&amp;
patch -Np1 -i ../unzip-&unzip-version;-dont_make_noise-1.patch &amp;&amp;
cp -v unix/Makefile . &amp;&amp;
make prefix=/usr LOCAL_UNZIP=-DUSE_UNSHRINK linux &amp;&amp;
make prefix=/usr LOCAL_UNZIP=-DUSE_UNSHRINK linux_shlibz</userinput></screen>

    <para>To test the results, issue: <command>LD_LIBRARY_PATH=$PWD
    make check</command>.</para>

    <para>Now, as the <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>make prefix=/usr LOCAL_UNZIP=-DUSE_UNSHRINK install &amp;&amp;
cp -v -d libunzip.so* /usr/lib</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Command Explanations</title>

    <para><command>make prefix=/usr LOCAL_UNZIP=-DUSE_UNSHRINK linux</command>:
    This command overrides the <varname>prefix</varname> variable that is
    set to <filename class="directory">/usr/local</filename> in the
    <filename>Makefile</filename>, sets the <envar>LOCAL_UNZIP</envar>
    environment variable to instruct <application>UnZip</application> to use
    the shrinking algorithm based on the LZW compression
    algorithm, and builds the executables for a Linux system.
    The alternatives to 'linux' can be seen with a
    <command>make list</command> command.</para>

    <para><command>make ... linux_shlibz</command>: Build shared
    <filename>libunzip</filename> and link <application>UnZip</application> against
    it and <application>zlib</application>.</para>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Programs</segtitle>
      <segtitle>Installed Library</segtitle>
      <segtitle>Installed Directories</segtitle>

      <seglistitem>
        <seg>funzip, unzip, unzipfsx, zipgrep, and zipinfo</seg>
        <seg>libunzip.so</seg>
        <seg>None</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="funzip">
        <term><command>funzip</command></term>
        <listitem>
          <para>allows the output of <command>unzip</command> commands to be
          redirected.</para>
          <indexterm zone="unzip funzip">
            <primary sortas="b-funzip">funzip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unzip-prog">
        <term><command>unzip</command></term>
        <listitem>
          <para>lists, tests or extracts files from a <filename>ZIP</filename>
          archive.</para>
          <indexterm zone="unzip unzip-prog">
            <primary sortas="b-unzip">unzip</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="unzipfsx">
        <term><command>unzipfsx</command></term>
        <listitem>
          <para>is a self-extracting stub that can be prepended to a
          <filename>ZIP</filename> archive.  Files in this format allow the recipient to
          decompress the archive without installing
          <application>UnZip</application>.</para>
          <indexterm zone="unzip unzipfsx">
            <primary sortas="b-unzipfsx">unzipfsx</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zipgrep">
        <term><command>zipgrep</command></term>
        <listitem>
          <para>searches files in a <filename>ZIP</filename> archive for
          lines matching a pattern.</para>
          <indexterm zone="unzip zipgrep">
            <primary sortas="b-zipgrep">zipgrep</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="zipinfo">
        <term><command>zipinfo</command></term>
        <listitem>
          <para>produces technical information about the files in a
          <filename>ZIP</filename> archive, including file access permissions,
          encryption status, type of compression, etc.</para>
          <indexterm zone="unzip zipinfo">
            <primary sortas="b-zipinfo">zipinfo</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libunzip">
        <term><filename class='libraryfile'>libunzip.so</filename></term>
        <listitem>
          <para>contains the API functions required by the
          <application>UnZip</application> programs.</para>
          <indexterm zone="unzip libunzip">
            <primary sortas="c-libunzip">libunzip.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
