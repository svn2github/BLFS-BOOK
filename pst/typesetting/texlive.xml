<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY texlive-year                "2012">
  <!ENTITY texlive-installer           "http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz">

  <!ENTITY texlive-source-download-http " ">
  <!ENTITY texlive-source-download-ftp  "ftp://tug.org/texlive/historic/&texlive-year;/texlive-&texlive-version;-source.tar.xz">
  <!ENTITY texlive-source-md5sum        "1d38be7dac26440fd022a4708f454a2b">
  <!ENTITY texlive-source-size          "126 MB">

<!--
  <!ENTITY texlive-texmf-download-http  " ">
  <!ENTITY texlive-texmf-download-ftp   "ftp://tug.org/texlive/historic/&texlive-year;/texlive-&texlive-version;-texmf.tar.xz">
  <!ENTITY texlive-texmf-md5sum         "ed7b558be35adf00a6c2e69609cd679a">
  <!ENTITY texlive-texmf-size           "1.2 GB">
-->
  <!ENTITY texlive-buildsize            "3.1 GB">
  <!ENTITY texlive-time                 "8.0 SBU">
]>

<sect1 id="texlive" xreflabel="texlive-&texlive-version;">
  <?dbhtml filename="texlive.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
  </sect1info>

  <title>texlive-&texlive-version;</title>

  <indexterm zone="texlive">
    <primary sortas="a-texlive">texlive</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction to TeX Live</title>

    <para>The <application>TeX Live</application> package is a comprehensive
    TeX document production system.  It includes TEX, LaTeX2e, ConTEXt,
    Metafont, MetaPost, BibTeX and many other programs; an extensive collection
    of macros, fonts and documentation; and support for typesetting in many
    different scripts from around the world.</para>

    &lfs72_checked;

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Download (HTTP): <ulink url="&texlive-source-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Download (FTP): <ulink url="&texlive-source-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &texlive-source-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &texlive-source-size;</para>
      </listitem>
      <listitem>
        <para>Estimated disk space required: &texlive-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimated build time: &texlive-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>The TeX Live installer: <ulink url="&texlive-installer;"/></para>
      </listitem>
      <!--
      <listitem>
        <para>TeX MetaFonts and additional components:
        <ulink url="&texlive-texmf-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &texlive-texmf-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &texlive-texmf-size;</para>
      </listitem>-->
    </itemizedlist>

    <bridgehead renderas="sect3">TeX Live Dependencies</bridgehead>

    <bridgehead renderas="sect4">Optional</bridgehead>
    <para role="optional"><xref linkend="gs"/>,
      <xref linkend="poppler"/>,
      <xref linkend="freetype2"/>,
      <xref linkend="fontconfig"/>,
      <xref linkend="libpng"/>,
      <xref linkend="x-window-system"/>,
      <!-- <xref linkend="recode"/>, -->
      <xref linkend="icu"/>,
      <ulink url="http://www.libgd.org/Main_Page">GD</ulink>,
      <ulink url="http://www.sfr-fresh.com/linux/misc/t1lib">t1lib</ulink>,
      <ulink url="http://sourceforge.net/projects/zziplib/">ZZIPlib</ulink>,
      <ulink url="http://www.gnu.org/software/clisp/">CLISP</ulink>,
      <ulink url="http://www.lua.org/">Lua</ulink>,
      <ulink url="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;id=TECkitDownloads">TECkit</ulink>, and
      <ulink url="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;cat_id=RenderingGraphite">
    Graphite</ulink></para>

    <para condition="html" role="usernotes">User Notes:
    <ulink url="&blfs-wiki;/texlive"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of TeX Live</title>

    <para>The <application>TeX Live</application> set of programs with its
    supporting documents, fonts, and utilities is very large.  The upstream
    maintainers recommend placing all files in a single directory structure.
    BLFS recommends <filename class='directory'>/opt/texlive</filename>.</para>

    <para>First, unpack the installer and change into the installer's
    directory, <filename class='directory'>install-tl-20111204</filename>.
    This directory name may change if the installer package is updated
    by the upstream maintainers.</para>

<screen><userinput>tar -xf install-tl-unx.tar.gz &amp;&amp;
cd install-tl-20111204 </userinput></screen>

    <note><para>The distribution binaries installed below use static linking
    for internal <application>TeX Live</application> libraries.  Additional
    libraries as specified in the dependencies section do not need to be
    present during the install, but the programs that need them will not run
    until their specific dependencies are installed.</para></note>

    <para>Now, as the <systemitem class="username">root</systemitem>
    user:</para>

<screen><userinput>TEXLIVE_INSTALL_PREFIX=/opt/texlive ./install-tl</userinput></screen>

    <para>This command is interactive and allows selection or modification of
    platform, packages, directories, and other options.  The full installation
    scheme will require about 3 gigabytes of disk space.  The time to complete
    the download time will depend on your internet connection speed and the
    number of packages selected.</para>

    <para>After the package download is complete, the next step is to make sure
    that the system can properly find the files.  If you set up your login
    scripts as recommended in <xref linkend='postlfs-config-profile'/>, update
    the needed paths by appending to the <filename>extrapaths.sh</filename> script.
    Be sure to adjust the paths below to reflect your actual installation
    location.  In addition, the path to the binaries will be affected by your
    system architecture.</para>

<screen><userinput>cat &gt;&gt; /etc/profile.d/extrapaths.sh &lt;&lt; "EOF"
pathappend /usr/share/man                   MANPATH
pathappend /opt/texlive/&texlive-year;/texmf/doc/man  MANPATH
pathappend /usr/share/info                  INFOPATH
pathappend /opt/texlive/&texlive-year;/texmf/doc/info INFOPATH
pathappend /opt/texlive/&texlive-year;/bin/x86_64-linux
EOF</userinput></screen>

    <note><para>The standard MANPATH and INFOPATH path are specified above to
    ensure they are included.  If they are already set in the boot script
    procedure, the pathappend function will ensure duplicates are
    removed, so including them here will do no harm.</para></note>

    <para>The new paths can be immediately activated by running <command>source
    /etc/profile</command>.</para>

    <para>At this point the installation is complete.  If building from
    source is desired, extract the source package as usual and continue.</para>

    <note>
      <para>If you do not have Xorg installed add <userinput>--without-x</userinput>
      to the configure command.</para>

      <para>If you do not have fontconfig installed, add
      <userinput>--disable-xdvipdfmx</userinput> to the configure command.</para>
    </note>

<screen><userinput>./configure --prefix=/usr                  \
            --disable-native-texlive-build \
            --enable-build-in-source-tree  \
            --without-luatex               \
            --enable-mktextex-default      \
            --with-banner-add=" - BLFS"    &amp;&amp;
make</userinput></screen>

    <para>To test the results, issue: <command>make check</command>.</para>

    <para>In order to gather the built files in one place, use
    <userinput>make install</userinput> to put then in a temproary location:</para>

<screen><userinput>make DESTDIR=$PWD/texlive-tmp install</userinput></screen>

    <para>Now copy the executables to the <application>TeX Live</application>
    binary directory.  Be sure to adjust the destination directory for your
    installation.  As the  <systemitem class="username">root</systemitem>
    user:</para>

<screen><userinput>find texlive-tmp/usr/bin -type f -exec cp -v {} /opt/texlive/2011/bin/x86_64-linux \;</userinput></screen>

    <note><para>If you passed the option <option>--enable-shared</option> to the
    configure command, the two libraries, ibkpathsea.so, libptexenc.so and their
    symbolic links will also need to be copied to /usr/lib.</para></note>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Programs</segtitle>
      <segtitle>Installed Libraries</segtitle>
      <segtitle>Installed Directories</segtitle>

      <seglistitem>
        <seg>Over 300 binaries and symlinks to scripts</seg>
        <seg>None</seg>
        <seg>/opt/texlive</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="texlive-programs">
        <term><command>TeX&nbsp;programs</command></term>
        <listitem>
          <para>included in the <application>TeX Live</application> package are
          too numerous to individually list. Please refer to the individual
          program man and html pages in the installation directory's 2011/index.html
          directory.</para>
          <indexterm zone="texlive texlive-programs">
            <primary sortas="b-texlive-programs">TeX Live programs</primary>
          </indexterm>
        </listitem>
      </varlistentry>
<!--
      <varlistentry id="libkpathseaTL">
        <term><filename class='libraryfile'>libkpathsea.{so,a}</filename></term>
        <listitem>
          <para>contains the functions used by the TeX programs to resolve
          and catalog pathnames used in the Tex installation.</para>
          <indexterm zone="texlive libkpathseaTL">
            <primary sortas="c-libkpathseaTL">libkpathsea.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>
-->
    </variablelist>

  </sect2>

</sect1>
