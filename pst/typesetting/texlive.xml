<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY texlive-source-download-http " ">
  <!ENTITY texlive-source-download-ftp  "ftp://tug.org/texlive/historic/2010/texlive-&texlive-version;-source.tar.xz">
  <!ENTITY texlive-source-md5sum        "156fa34c56acb901fdc687b8d9860f1f">
  <!ENTITY texlive-source-size          "32 MB">

  <!ENTITY texlive-texmf-download-http  " ">
  <!ENTITY texlive-texmf-download-ftp   "ftp://tug.org/texlive/historic/2010/texlive-&texlive-version;-texmf.tar.xz">
  <!ENTITY texlive-texmf-md5sum         "12dec3a323c4eb75b98a3160c62dc865">
  <!ENTITY texlive-texmf-size           "1.1 GB">

  <!ENTITY texlive-buildsize            "~5 GB">
  <!ENTITY texlive-time                 "10 SBU">
]>

<sect1 id="texlive" xreflabel="TeX Live-&texlive-version;">
  <?dbhtml filename="texlive.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
  </sect1info>

  <title>TeX Live-&texlive-version;</title>

  <indexterm zone="texlive">
    <primary sortas="a-texlive">texlive</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction to TeX Live</title>

    <para>The <application>TeX Live</application> package is the forked
    successor of the <application>teTeX</application> TeX document production
    system invented by Donald Knuth. Both packages have been maintained and
    supported through the <ulink url="http://www.tug.org/">TeX Users
    Group</ulink>, although <application>teTeX</application> has been
    unmaintained for several years now.</para>

    <para>The <command>texi2html</command> Perl script previously shipped with
    the <application>teTeX</application> package is no longer shipped. You can
    use the <command>makeinfo</command> program as a replacement, or install
    the stand-alone
    <ulink url="http://www.nongnu.org/texi2html/">Texi2HTML</ulink>
    package.</para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Download (HTTP): <ulink url="&texlive-source-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Download (FTP): <ulink url="&texlive-source-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &texlive-source-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &texlive-source-size;</para>
      </listitem>
      <listitem>
        <para>Estimated disk space required: &texlive-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimated build time: &texlive-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Required TeX MetaFonts and additional components:
        <ulink url="&texlive-texmf-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &texlive-texmf-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &texlive-texmf-size;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">TeX Live Dependencies</bridgehead>

    <bridgehead renderas="sect4">Required</bridgehead>
    <para role="required"><xref linkend="xz-utils"/></para>

    <bridgehead renderas="sect4">Optional</bridgehead>
    <para role="optional"><xref linkend="gs"/>,
    <xref linkend="poppler"/>,
    <xref linkend="freetype2"/>,
    <xref linkend="libpng"/>,
    <xref linkend="x-window-system"/>,
    <xref linkend="recode"/>,
    <xref linkend="icu"/>,
    <ulink url="http://www.libgd.org/Main_Page">GD</ulink>,
    <ulink url="http://www.sfr-fresh.com/linux/misc/t1lib">t1lib</ulink>,
    <ulink url="http://sourceforge.net/projects/zziplib/">ZZIPlib</ulink>,
    <ulink url="http://www.gnu.org/software/clisp/">CLISP</ulink>,
    <ulink url="http://www.lua.org/">Lua</ulink>,
    <ulink url="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;id=TECkitDownloads">TECkit</ulink>,
    and
    <ulink url="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;cat_id=RenderingGraphite">
    Graphite</ulink></para>

    <para condition="html" role="usernotes">User Notes:
    <ulink url="&blfs-wiki;/texlive"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of TeX Live</title>

    <para>Before building <application>TeX Live</application>, the macros and
    fonts package (<filename>texmf</filename> tarball) must be installed and
    two temporary symbolic links need to be created. Install the macros, fonts
    and symlinks using the following commands as the
    <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>tar xf ../texlive-&texlive-version;-texmf.tar.xz \
    -C /usr/share --strip-components=1 &amp;&amp;

ln -v -s share/texmf      /usr &amp;&amp;
ln -v -s share/texmf-dist /usr</userinput></screen>

    <para>Install <application>TeX Live</application> by running the following
    commands:</para>

<screen><userinput>sed -i -e 's|PARENT/\.\./texmf-local|PARENT/texmf-local|' \
       -e 's|\$TEXMFVAR/fonts|/var/lib/livetex/fonts|'    \
          texk/kpathsea/texmf.cnf &amp;&amp;

./configure --prefix=/usr                  \
            --disable-native-texlive-build \
            --enable-shared                \
            --without-luatex               \
            --enable-mktextex-default      \
            --with-banner-add=" - BLFS"    &amp;&amp;

make</userinput></screen>

    <para>To test the results, issue: <command>make check</command>.</para>

    <para>Now, as the <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>make install &amp;&amp;

rm      -v           /usr/texmf{,-dist}                         &amp;&amp;
install -v -m1777 -d /var/lib/livetex/fonts                     &amp;&amp;
install -v -m755  -d /usr/share/texmf-{config,var,local}        &amp;&amp;
install -v -m755  -d /usr/share/doc/texlive-&texlive-version;            &amp;&amp;
ln  -s  -v           ../../texmf/doc \
                     /usr/share/doc/texlive-&texlive-version;/texmf      &amp;&amp;
ln  -s  -v           ../../texmf-dist/doc \
                     /usr/share/doc/texlive-&texlive-version;/texmf-dist &amp;&amp;

for FN in `find /usr/bin -type l`; do
    if [ `readlink $FN | grep "\.\./texmf"` ]; then
        ln -svf `readlink $FN | sed 's|\.\./texmf|../share/texmf|'` $FN
    fi
done &amp;&amp;
unset FN</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Command Explanations</title>

    <para><command>ln -v -s share/texmf /usr</command> &amp;
    <command>ln -v -s share/texmf-dist /usr</command> &amp;
    <command>rm -v /usr/texmf{,-dist}</command>: These commands are used to
    create and then remove temporary symbolic links so that files are not
    installed in
    <filename class="directory">/usr/texmf{,-dist}</filename></para>

    <para><command>sed -i -e '...' -e '...' texk/kpathsea/texmf.cnf</command>:
    This command is used to modify the default so that local items are
    installed in <filename class="directory">/usr/share/texmf-local</filename>
    instead of <filename class="directory">/usr/texmf-local</filename>. It also
    changes the path for user-installed fonts to the run-time variable location
    <filename class="directory">/var/lib/livetex/fonts</filename>.</para>

    <para><parameter>--disable-native-texlive-build</parameter>: This parameter
    is required if the build is not for a binary distribution.</para>

    <para><parameter>--without-luatex</parameter>: This parameter is required
    if the <application>Lua</application> programming language is not 
    installed. Remove this parameter if <application>Lua</application> is
    installed.</para>

    <para><parameter>--enable-mktextex-default</parameter>: This parameter
    is used so that TeX will automatically invoke mktextex if TeX source is
    missing.</para>

    <para><parameter>--with-banner-add=" - BLFS"</parameter>: This parameter
    is used so that the build can be easily recognized as a non-TUG binary
    build.</para>

    <para><option>--with-system-...</option> &amp;
    <option>--with-libgs-includes=/usr/include/ghostscript</option>: These
    options are required to use any system-installed libraries. Run
    <command>./configure --help</command> to see a full list of available
    options.</para>

    <para><command>for FN in `...`; do ...; done</command>This command is
    used to change the installed symbolic links to point to scripts installed
    in <filename class="directory">/usr/share/texmf</filename> instead of
    <filename class="directory">/usr/texmf</filename>.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuring TeX Live</title>

    <sect3 id="texlive-config">
      <title>Config Files</title>
      <para>Several <filename class="extension">.cnf</filename> files are used
      in a complete TeX system. Typically these files are not directly modified
      (unless you know your way around a TeX system very well), but instead
      TeX programs are used to make the modifications.</para>

    </sect3>

    <sect3><title>Configuration Information</title>

      <para>Issue the following commands as the
      <systemitem class="username">root</systemitem> user to configure and
      finalize the TeX installation:</para>

<screen role="root"><userinput>mktexlsr /usr/share/texmf        \
         /usr/share/texmf-config \
         /usr/share/texmf-dist   \
         /usr/share/texmf-var    \
         /usr/share/texmf-local  \
         /var/lib/livetex/fonts  &amp;&amp;

texconfig-sys font rw            &amp;&amp;
texconfig-sys paper letter       &amp;&amp;
fmtutil-sys --all                &amp;&amp;
updmap-sys                       &amp;&amp;

mktexlsr /usr/share/texmf        \
         /usr/share/texmf-config \
         /usr/share/texmf-dist   \
         /usr/share/texmf-var    \
         /usr/share/texmf-local  \
         /var/lib/livetex/fonts  &amp;&amp;

texlinks                         &amp;&amp;

mktexlsr /usr/share/texmf        \
         /usr/share/texmf-config \
         /usr/share/texmf-dist   \
         /usr/share/texmf-var    \
         /usr/share/texmf-local  \
         /var/lib/livetex/fonts</userinput></screen>

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Programs</segtitle>
      <segtitle>Installed Libraries</segtitle>
      <segtitle>Installed Directories</segtitle>

      <seglistitem>
        <seg>Over 300 binaries and symlinks to scripts</seg>
        <seg>libkpathsea.{so,a} and libptexenc.{so,a}</seg>
        <seg>/usr/include/kpathsea,
        /usr/include/ptexenc,
        /usr/share/doc/texlive-&texlive-version;,
        /usr/share/texmf-config,
        /usr/share/texmf-dist,
        /usr/share/texmf-local,
        /usr/share/texmf-var,
        /use/share/texmf, and
        /var/lib/livetex</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="texlive-programs">
        <term><command>TeX programs</command></term>
        <listitem>
          <para>included in the <application>TeX Live</application> package are
          too numerous to individually list. Please refer to the individual
          program man pages and
          <ulink url="file:///usr/share/texmf/doc/texlive/index.html"/> for
          details, as well as a tour of the expansive
          <application>TeX Live</application> documentation.</para>
          <indexterm zone="texlive texlive-programs">
            <primary sortas="b-texlive-programs">TeX Live programs</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libkpathseaTL">
        <term><filename class='libraryfile'>libkpathsea.{so,a}</filename></term>
        <listitem>
          <para>contains the functions used by the TeX programs to resolve
          and catalog pathnames used in the Tex installation.</para>
          <indexterm zone="texlive libkpathseaTL">
            <primary sortas="c-libkpathseaTL">libkpathsea.{so,a}</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
