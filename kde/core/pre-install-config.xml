<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
   "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="kde-pre-install-config">
  <?dbhtml filename="pre-install-config.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
  </sect1info>

  <title>KDE Pre-installation Configuration</title>

  <para>Based on your preference, set <envar>KDE_PREFIX</envar>.</para>

  <para>One option is to put <application>KDE</application> into the
  <filename class='directory'>/usr</filename> hierarchy.  This creates
  a simpler setup but is more difficult to try multiple versions
  of <application>KDE</application>.</para>

<screen><userinput>export KDE_PREFIX=/usr</userinput></screen>

  <para>A method of building multiple versions installs
  <application>KDE</application> in the <filename
  class='directory'>/opt</filename> hierarchy:</para>

<screen><userinput>export KDE_PREFIX=/opt/kde-&kde-version;</userinput></screen>

  <para>Remember to execute <command>ldconfig</command> after installation
  of libraries to update the library cache.</para>

  <para>If you are not installing <application>KDE</application> in
  <filename class="directory">/usr</filename>, you will need to make some
  configuration changes:</para>

  <para>You should consider installing the <xref linkend="desktop-file-utils"/>
  package. Though not required, this package will allow you to easily use
  existing <filename>.desktop</filename> files in
  <filename class='directory'>/usr/share/applications</filename> (and any other
  locations identified by <envar>XDG_DATA_DIRS</envar>), and automatically add
  these applications to the <application>KDE</application> menu system.</para>

  <para>Add to your system or personal profile:</para>

<screen><literal>export PATH=$PATH:/opt/kde-&kde-version;/bin
export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/opt/kde-&kde-version;/lib/pkgconfig</literal></screen>

  <para>Add to your <filename>/etc/ld.so.conf</filename>:</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/ld.so.conf &lt;&lt; "EOF"
<literal># Begin kde addition to /etc/ld.so.conf

/opt/kde-&kde-version;/lib

# End kde addition</literal>
EOF</userinput></screen>

  <indexterm zone="kde-pre-install-config">
    <primary sortas="e-etc-ld.so.conf">/etc/ld.so.conf</primary>
  </indexterm>

  <para>Add to your <filename>/etc/man_db.conf</filename>:</para>

<screen role="root"><userinput>cat &gt;&gt; /etc/man_db.conf &lt;&lt; "EOF"
<literal># Begin kde addition to man_db.conf

MANPATH /opt/kde-&kde-version;/man

# End kde addition to man_db.conf</literal>
EOF</userinput></screen>

  <indexterm zone="kde-pre-install-config">
    <primary sortas="e-etc-man_db.conf">/etc/man_db.conf</primary>
  </indexterm>

  <tip>
    <para>If you prefer installing KDE in <filename
    class="directory">/opt</filename>, one trick to avoid the above configuration
    changes every time you install a new version is to replace <filename
    class="directory">/opt/kde-&kde-version;</filename> with <filename
    class="directory">/opt/kde</filename> and to create a symlink from <filename
    class="directory">/opt/kde-&kde-version;</filename> to <filename
    class="directory">/opt/kde</filename>.</para>

<screen role="root"><userinput>ln -v -sf kde-&kde-version; /opt/kde</userinput></screen>
  </tip>

</sect1>
