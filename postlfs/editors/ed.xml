<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
   "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY ed-download-http "http://ftp.gnu.org/pub/gnu/ed/ed-&ed-version;.tar.gz">
  <!ENTITY ed-download-ftp  "ftp://ftp.gnu.org/pub/gnu/ed/ed-&ed-version;.tar.gz">
  <!ENTITY ed-md5sum        "ddd57463774cae9b50e70cd51221281b">
  <!ENTITY ed-size          "182 KB">
  <!ENTITY ed-buildsize     "2.9 MB">
  <!ENTITY ed-time          "0.02 SBU">
]>

<sect1 id="ed" xreflabel="Ed-&ed-version;">
  <?dbhtml filename="ed.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
    <keywordset>
      <keyword role="package">ed-&ed-version;.tar</keyword>
      <keyword role="ftptdir">ed</keyword>
    </keywordset>
  </sect1info>

  <title>Ed-&ed-version;</title>

  <indexterm zone="ed">
    <primary sortas="a-Ed">Ed</primary>
  </indexterm>

  <sect2 role="installation">
    <title>Introduction to Ed</title>

    <para><application>Ed</application> is a line-oriented text editor. It
    is used to create, display, modify and otherwise manipulate text files,
    both interactively and via shell scripts. Ed isn't something which many
    people use. It's described here because it can be used by the patch
    program if you encounter an ed-based patch file. This happens rarely
    because diff-based patches are preferred these days.</para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Download (HTTP): <ulink url="&ed-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Download (FTP): <ulink url="&ed-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &ed-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &ed-size;</para>
      </listitem>
      <listitem>
        <para>Estimated disk space required: &ed-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimated build time: &ed-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Additional Downloads</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Required Patch: <ulink
        url="&patch-root;/ed-&ed-version;-mkstemp-1.patch"/></para>
      </listitem>
    </itemizedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Ed</title>

    <para><application>Ed</application> normally uses the
    <function>mktemp</function> function to create temporary files in
    <filename class="directory">/tmp</filename>, but this function contains
    a vulnerability (see the section on Temporary Files at
    <ulink url="http://en.tldp.org/HOWTO/Secure-Programs-HOWTO/avoid-race.html"/>).
    Apply the following patch to make <application>Ed</application> use
    <function>mkstemp</function> instead, a secure way to create temporary
    files:</para>

<screen><userinput>patch -Np1 -i ../ed-&ed-version;-mkstemp-1.patch</userinput></screen>

    <para>Install <application>Ed</application> by running the following
    commands:</para>

<screen><userinput>./configure --prefix=/usr --exec-prefix="" &amp;&amp;
make</userinput></screen>

    <para>To test the results, issue: <command>make check</command>.</para>

    <para>Now, as the <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Command Explanations</title>

    <para><parameter>--exec-prefix=""</parameter>: This forces the programs
    to be installed into the <filename class="directory">/bin</filename>
    directory. Having the programs available there is useful in the event of
    the <filename class="directory">/usr</filename> partition being
    unavailable.</para>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Programs</segtitle>
      <segtitle>Installed Libraries</segtitle>
      <segtitle>Installed Directories</segtitle>

      <seglistitem>
        <seg>ed and red</seg>
        <seg>None</seg>
        <seg>None</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="ed-prog">
        <term><command>ed</command></term>
        <listitem>
          <para>is a line-oriented text editor.</para>
          <indexterm zone="ed ed-prog">
            <primary sortas="b-ed">ed</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="red">
        <term><command>red</command></term>
        <listitem>
          <para>is a restricted <command>ed</command>&mdash;it can only edit
          files in the current directory and cannot execute shell
          commands.</para>
          <indexterm zone="ed red">
            <primary sortas="b-red">red</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
